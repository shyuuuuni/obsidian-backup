# 프로미스란?

프로미스는 자바스크립트 비동기 처리를 위한 특별한 객체이다. 비동기 작업의 처리 상태를 3가지 형태의 상태로 저장하고, 상태에 따라 비동기 작업 결과를 다룰 수 있도록 도와준다.

프로미스는 ES6에서 도입되었으며, 기존 비동기 호출 방식인 콜백 함수의 `콜백 지옥`과 같은 단점을 개선하기 위해 등장했다.

- 비동기 처리를 비교적 명확하게 다룰 수 있도록 한다.
- 연속된 비동기 처리를 더 쉽게 다룰 수 있도록 한다.

# 프로미스 상태

![[프로미스-상태.png]]

- `pending`: 프로미스가 비동기 작업 처리를 대기중인 상태
- `fulfilled`: 비동기 작업 처리가 성공적으로 완료된 상태
- `rejected`: 비동기 작업 처리가 실패한 상태

프로미스는 위와 같은 3가지 상태를 가진다. 그 중에서 `fulfilled`와 `rejected` 상태를 합쳐 `settled` 상태로 표현한다.

# 프로미스 객체 생성

프로미스는 생성 시 `resolve`와 `reject` 매개변수를 가진 콜백 함수를 전달한다. 또한 프로미스가 만들어졌을 때 해당 함수(실행 함수)는 즉시 실행된다.

- `resolve`: 프로미스 내 비동기 작업이 성공했을 때 호출할 함수
- `reject`: 프로미스 내 비동기 작업이 실패했을 때 호출할 함수

예를 들어,

```javascript
let promise = new Promise(function(resolve, reject) {
  // 프라미스가 만들어지면 executor 함수는 자동으로 실행됩니다.

  // 1초 뒤에 일이 성공적으로 끝났다는 신호가 전달되면서 result는 '완료'가 됩니다.
  setTimeout(() => resolve("완료"), 1000);
});
```

이때 `resolve`와 `reject`의 매개변수는 각각 다음과 같다.

- `resolve(매개변수)`: 해당 프로미스에 의해 결정된 결과값으로, 프로미스 또는 thenlable 일 수 있다.
- `reject(매개변수)`: 해당 프로미스가 실패한 이유로, 에러 객체 혹은 문자열일 수 있다.

# 프로미스 후속 처리 메소드

## then(onFulfilled, onRejected)

- `onFulfilled`: 프로미스가 성공적으로 수행되었을 때(`resolve` 함수가 호출되었을 때) 그 결과값을 매개변수로 하는 함수
- `onRejected`: 프로미스가 실패했을 때(`reject` 함수가 호출되었을 때) 그 결과값을 매개변수로 하는 함수

프로미스 처리 결과에 따라 위 함수가 비동기적으로 실행된다. 또한 `then`은 `Promise` 객체를 반환한다. 다음과 같은 규칙을 따른다.

1. 콜백 함수가 값을 반환한다면 해당 값을 결과값으로 하는 `fulfilled` 상태의 프로미스를 반환한다. 만약 값이 없다면 `undefined`를 값으로 반환한다.
2. 오류가 발생한다면 그 오류를 값으로 하는 `rejected` 프로미스를 반환한다.
3. 

## catch()

## finally()

# 프로미스 메소드


